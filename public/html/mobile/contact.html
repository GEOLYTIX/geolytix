<section id="contact" data-offset=50 style="height: 400px; width: 100%"></section>

<script>

  window.addEventListener('DOMContentLoaded', function () {

    if (_xyz) _xyz({
      host: 'https://geolytix.xyz/geodata',
      locale: 'Offices',
      callback: function (_xyz) {

        _xyz.mapview.create({
          target: document.getElementById('contact'),
          scrollWheelZoom: true,
          view: {
            lat: 30,
            lng: 120,
            z: 3
          }
        });

        _xyz.layers.list.Offices.show();

        _xyz.locations.selectCallback = location => {

          document.getElementById('contact_text').innerHTML = location.infoj[1].value;

          location.Marker = _xyz.mapview.geoJSON({
            geometry: {
              type: 'Point',
              coordinates: location.marker,
            },
            style: new ol.style.Style({
              image: _xyz.mapview.icon(_xyz.layers.list.Offices.style.highlight.marker)
            })
          });

        }

        _xyz.locations.select({
          locale: "Offices",
          layer: _xyz.layers.list.Offices,
          table: "website.glx_offices",
          id: 4
        });

      }
    })
  })

</script>